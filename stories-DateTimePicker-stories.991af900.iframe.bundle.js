"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[150],{"./src/stories/DateTimePicker.stories.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Demo:()=>Demo,__namedExportsOrder:()=>__namedExportsOrder,default:()=>DateTimePicker_stories});var jsx_runtime=__webpack_require__("./node_modules/.pnpm/next@15.5.0_@babel+core@7.28.3_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/compiled/react/jsx-runtime.js"),dayjs_min=__webpack_require__("./node_modules/.pnpm/dayjs@1.11.18/node_modules/dayjs/dayjs.min.js"),dayjs_min_default=__webpack_require__.n(dayjs_min),react=__webpack_require__("./node_modules/.pnpm/next@15.5.0_@babel+core@7.28.3_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/compiled/react/index.js"),pi=__webpack_require__("__barrel_optimize__?names=PiCalendarBlankBold,PiCheckBold,PiClockBold,PiPencilSimpleBold!=!./node_modules/.pnpm/react-icons@5.5.0_react@19.1.0/node_modules/react-icons/pi/index.mjs"),cn=__webpack_require__("./src/utils/helpers/cn.ts"),NumericInput=__webpack_require__("./src/stories/NumericInput.tsx"),Popover=__webpack_require__("./src/stories/Popover.tsx"),Calendar=__webpack_require__("./src/stories/Calendar.tsx");const maxDate=dayjs_min_default()(new Date).add(1,"year").set("month",11).set("date",31),minDate=dayjs_min_default()(new Date("1925-1-1")),DateTimePicker=({id:_id,value:_value,onChange,...props})=>{const uid=(0,react.useId)(),[state,setState]=(0,react.useState)({value:_value,pvalue:_value,editable:!1,error:null}),date=(0,react.useMemo)(()=>dayjs_min_default()(state.editable?state.pvalue:state.value),[state.pvalue,state.value,state.editable]),[dateId,timeId]=[`${_id||uid}__date`,`${_id||uid}__time`];return(0,jsx_runtime.jsxs)("div",{className:(0,cn.cn)("flex justify-center items-stretch text-zinc-800 font-mono font-medium transition-all rounded-xl",state.editable?"gap-2 text-zinc-800":"gap-0 text-zinc-600 shadow-md"),children:[(0,jsx_runtime.jsxs)("div",{children:[(0,jsx_runtime.jsxs)("label",{htmlFor:dateId,className:(0,cn.cn)("flex items-center h-full pl-3 bg-zinc-100 rounded-l-xl transition-all border border-zinc-300 focus-within:ring-2",state.editable?"pr-3 rounded-r-xl shadow-md gap-1.5":"pr-2 rounded-r-none border-r-0 gap-0.5",state.error?"ring-red-600":"ring-zinc-600"),"aria-disabled":!state.editable,children:[(0,jsx_runtime.jsx)("div",{className:"flex items-center gap-1",children:date.format("DD/MM/YYYY").split("/").map((v,idx)=>{const args=[{key:"DD",unit:"date",min:1,max:date.daysInMonth()},{key:"MM",unit:"month",min:1,max:12},{key:"YYYY",unit:"year",min:1925,max:maxDate.year()}][idx];return(0,jsx_runtime.jsxs)(react.Fragment,{children:[idx?(0,jsx_runtime.jsx)("span",{children:"/"}):null,(0,jsx_runtime.jsx)(NumericInput.X,{value:v,min:args.min,max:args.max,minLength:2===idx?4:2,maxLength:2===idx?4:2,onBlur:e=>{let value=Number(e.target.value);"MM"===args.key&&(value-=1);const newDate=date.clone().set(args.unit,value).toDate();setState(p=>({...p,pvalue:newDate}))},disabled:!state.editable,className:(0,cn.cn)("outline-none py-2 spinner-none text-right",2===idx?"w-[4ch]":"w-[2ch]")})]},args.key)})}),(0,jsx_runtime.jsx)("div",{className:(0,cn.cn)("transition-all overflow-hidden",state.editable?"w-4":"w-[1ch]"),children:state.editable?(0,jsx_runtime.jsxs)(Popover.A,{children:[(0,jsx_runtime.jsx)(Popover.A.Trigger,{className:"flex items-center w-full h-full",children:(0,jsx_runtime.jsx)(pi.b9R,{className:"size-4"})}),(0,jsx_runtime.jsx)(Popover.A.Content,{side:"bottom",sideOffset:18,className:"p-0 w-fit shadow-md rounded-xl border-zinc-300",children:(0,jsx_runtime.jsx)(Calendar.V,{mode:"single",required:!0,captionLayout:"dropdown",className:"rounded-xl bg-zinc-100",startMonth:minDate.toDate(),endMonth:maxDate.toDate(),selected:date.toDate(),onSelect:d=>setState(s=>({...s,pvalue:date.clone().set("year",d.getFullYear()).set("month",d.getMonth()).set("date",d.getDate()).toDate()}))})})]}):","})]}),(0,jsx_runtime.jsx)("input",{disabled:!state.editable,id:dateId,type:"date",className:"hidden",value:date.format("YYYY-MM-DD")})]}),(0,jsx_runtime.jsxs)("div",{children:[(0,jsx_runtime.jsxs)("label",{htmlFor:timeId,className:(0,cn.cn)("flex items-center h-full gap-1.5 bg-zinc-100 transition-all border border-zinc-300 focus-within:ring-2",state.editable?"px-3 rounded-xl shadow-md":"pr-2 rounded-none border-x-0",state.error?"ring-red-600":"ring-zinc-600"),"aria-disabled":!state.editable,children:[(0,jsx_runtime.jsx)("div",{className:"flex items-center gap-1",children:date.format("HH:mm").split(":").map((v,idx)=>{const args=[{key:"HH",unit:"hour",min:0,max:23},{key:"mm",unit:"minute",min:0,max:59}][idx];return(0,jsx_runtime.jsxs)(react.Fragment,{children:[idx?(0,jsx_runtime.jsx)("span",{children:":"}):null,(0,jsx_runtime.jsx)(NumericInput.X,{value:v,minLength:2,maxLength:2,min:args.min,max:args.max,onBlur:e=>{const newDate=date.clone().set(args.unit,Number(e.target.value)).toDate();setState(p=>({...p,pvalue:newDate}))},disabled:!state.editable,className:(0,cn.cn)("outline-none py-2 spinner-none w-[2ch] text-right")})]},args.key)})}),(0,jsx_runtime.jsx)("div",{className:(0,cn.cn)("transition-all overflow-hidden",state.editable?"w-4 opacity-100":"w-0 opacity-0"),children:(0,jsx_runtime.jsx)(pi.n0G,{className:"size-4"})})]}),(0,jsx_runtime.jsx)("input",{disabled:!state.editable,id:timeId,type:"time",className:"hidden",value:date.format("HH:mm")})]}),(0,jsx_runtime.jsx)("button",{type:"button",className:(0,cn.cn)("p-2 pr-3 bg-zinc-100 rounded-r-xl transition-all border border-zinc-300 outline-none focus:ring-2",state.editable?"rounded-l-xl pl-3 shadow-md":"rounded-l-none border-l-0",state.error?"ring-red-600":"ring-zinc-600"),onClick:()=>{if(state.editable){const valid=(value=state.pvalue,Number.isNaN(value.getTime())?new Error("invalid date"):minDate.diff(value)<=0?maxDate.diff(value)>=0||new Error(`date must be before ${maxDate.format("DD/MM/YYYY")}`):new Error(`date must be after ${minDate.format("DD/MM/YYYY")}`));setState(!0===valid?p=>({...p,value:p.pvalue,editable:!1,error:null}):p=>({...p,editable:!0,error:valid}))}else setState(p=>({...p,editable:!0,error:null}));var value},children:state.editable?(0,jsx_runtime.jsx)(pi.HTu,{}):(0,jsx_runtime.jsx)(pi.OBt,{})})]})};DateTimePicker.__docgenInfo={description:"",methods:[],displayName:"DateTimePicker",props:{value:{required:!0,tsType:{name:"Date"},description:""},onChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(date: Date) => void",signature:{arguments:[{type:{name:"Date"},name:"date"}],return:{name:"void"}}},description:""}},composes:["Omit"]};const DateTimePicker_stories={title:"Components/Date Time Picker",component:DateTimePicker,parameters:{layout:"centered"},tags:["autodocs"],argTypes:{value:{control:"date"}}},Demo={args:{value:new Date}},__namedExportsOrder=["Demo"]},"./src/stories/NumericInput.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{X:()=>NumInput});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/next@15.5.0_@babel+core@7.28.3_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/compiled/react/jsx-runtime.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/.pnpm/next@15.5.0_@babel+core@7.28.3_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/compiled/react/index.js"),_utils_helpers_cn__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/utils/helpers/cn.ts");const sanitizeValue=value=>"-"===value?value:value=(value=value.replace(/[^0-9-]/g,"")).startsWith("-")?`-${value.slice(1).replace(/-/g,"")}`:value.replace(/-/g,""),getNumber=value=>{if(""===value||"-"===value)return null;const n=Number(value);return Number.isNaN(n)?null:n},NumInput=({ref,className,min,max,minLength=0,maxLength=1/0,onChange,onBlur,onFocus,...props})=>{const inputRef=(0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null),[isFocused,setIsFocused]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(!1);(0,react__WEBPACK_IMPORTED_MODULE_1__.useImperativeHandle)(ref,()=>inputRef.current);const onChangeHandler=(0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(e=>{const value=sanitizeValue(e.target.value);if(!(void 0!==max&&Number(value)>Number(max))&&!(void 0!==min&&Number(value)<Number(min))&&(inputRef.current&&(inputRef.current.value=value),onChange)){const syntheticEvent={...e,target:{...e.target,value}};onChange(syntheticEvent)}},[onChange,max,min]),onBlurHandler=(0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(e=>{setIsFocused(!1);const processedValue=((rawValue,minLength,maxLength,min,max)=>{let value=sanitizeValue(rawValue);if("-"!==value){const n=Number(value);if(!Number.isNaN(n)){const clamped=((value,min,max)=>void 0!==min&&value<min?min:void 0!==max&&value>max?max:value)(n,min,max);value=String(clamped)}}return void 0!==maxLength&&maxLength!==1/0&&"-"!==value&&(value=((value,maxLength)=>{if("-"===value)return value;const isNegative=value.startsWith("-");let numPart=isNegative?value.slice(1):value;return numPart.length>maxLength&&(numPart=numPart.slice(0,maxLength)),isNegative?`-${numPart}`:numPart})(value,maxLength)),minLength>0&&"-"!==value&&(value=((value,minLength)=>{if("-"===value)return value;const isNegative=value.startsWith("-");let numPart=isNegative?value.slice(1):value;return numPart=numPart.padStart(minLength,"0"),isNegative?`-${numPart}`:numPart})(value,minLength)),value})(e.target.value,minLength,maxLength,Number(min),Number(max));if(inputRef.current&&(inputRef.current.value=processedValue),onBlur){const syntheticEvent={...e,target:{...e.target,value:processedValue}};onBlur(syntheticEvent)}},[onBlur,minLength,maxLength,min,max]),onFocusHandler=(0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(e=>{setIsFocused(!0),null==onFocus||onFocus(e)},[onFocus]),onKeyDownHandler=(0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(e=>{if("ArrowUp"!==e.key&&"ArrowDown"!==e.key)return;if(!inputRef.current)return;const currentValue=inputRef.current.value,n=getNumber(currentValue);let newValue;if(null===n)newValue="ArrowDown"===e.key?"-1":"1";else{const next="ArrowDown"===e.key?n-1:n+1;newValue=String(next)}newValue=sanitizeValue(newValue),inputRef.current.value=newValue,e.preventDefault()},[]),onWheelHandler=(0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(e=>{if(!isFocused)return;if(!inputRef.current)return;const currentValue=inputRef.current.value,n=getNumber(currentValue);let newValue;if(null===n)newValue=e.deltaY>0?"-1":"1";else{const next=e.deltaY>0?n-1:n+1;newValue=String(next)}newValue=sanitizeValue(newValue),inputRef.current.value=newValue},[isFocused]);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input",{...props,className:(0,_utils_helpers_cn__WEBPACK_IMPORTED_MODULE_2__.cn)(className,"overflow-clip overscroll-none"),ref:inputRef,minLength,maxLength,type:"text",inputMode:"numeric",pattern:"-?[0-9]*",onChange:onChangeHandler,onFocus:onFocusHandler,onBlur:onBlurHandler,onKeyDown:onKeyDownHandler,onWheel:onWheelHandler})};NumInput.__docgenInfo={description:"",methods:[],displayName:"NumInput",props:{minLength:{defaultValue:{value:"0",computed:!1},required:!1},maxLength:{defaultValue:{value:"Infinity",computed:!0},required:!1}}}},"./src/stories/Popover.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>Popover});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/next@15.5.0_@babel+core@7.28.3_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/compiled/react/jsx-runtime.js"),_base_ui_components_react_popover__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/.pnpm/@base-ui-components+react@1.0.0-beta.3_@types+react@19.1.10_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/@base-ui-components/react/esm/popover/root/PopoverRoot.js"),_base_ui_components_react_popover__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/.pnpm/@base-ui-components+react@1.0.0-beta.3_@types+react@19.1.10_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/@base-ui-components/react/esm/popover/trigger/PopoverTrigger.js"),_base_ui_components_react_popover__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/.pnpm/@base-ui-components+react@1.0.0-beta.3_@types+react@19.1.10_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/@base-ui-components/react/esm/popover/portal/PopoverPortal.js"),_base_ui_components_react_popover__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/.pnpm/@base-ui-components+react@1.0.0-beta.3_@types+react@19.1.10_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/@base-ui-components/react/esm/popover/positioner/PopoverPositioner.js"),_base_ui_components_react_popover__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/.pnpm/@base-ui-components+react@1.0.0-beta.3_@types+react@19.1.10_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/@base-ui-components/react/esm/popover/popup/PopoverPopup.js"),_base_ui_components_react_popover__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/.pnpm/@base-ui-components+react@1.0.0-beta.3_@types+react@19.1.10_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/@base-ui-components/react/esm/popover/backdrop/PopoverBackdrop.js"),_utils_helpers_cn__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./src/utils/helpers/cn.ts");const Popover=props=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_base_ui_components_react_popover__WEBPACK_IMPORTED_MODULE_1__.y,{...props});Popover.Trigger=({render,className,...props})=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_base_ui_components_react_popover__WEBPACK_IMPORTED_MODULE_2__.W,{render,className:_utils_helpers_cn__WEBPACK_IMPORTED_MODULE_7__.cn.stateful("bg-transparent border-none cursor-pointer text-inherit font-inherit p-0",className),type:"button",...props}),Popover.Content=({className="",align="center",side="bottom",sideOffset=4,alignOffset=4,render,children,...props})=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_base_ui_components_react_popover__WEBPACK_IMPORTED_MODULE_3__.i,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_base_ui_components_react_popover__WEBPACK_IMPORTED_MODULE_4__.U,{align,side,sideOffset,alignOffset,className:"",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_base_ui_components_react_popover__WEBPACK_IMPORTED_MODULE_5__.i,{...props,render,className:_utils_helpers_cn__WEBPACK_IMPORTED_MODULE_7__.cn.stateful("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none","data-[open]:animate-in data-[closed]:animate-out data-[closed]:fade-out-0 data-[open]:fade-in-0 data-[closed]:zoom-out-95 data-[open]:zoom-in-95","data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",className),children})})}),Popover.Backdrop=({className="",render,...props})=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_base_ui_components_react_popover__WEBPACK_IMPORTED_MODULE_6__.Y,{...props,render,className:_utils_helpers_cn__WEBPACK_IMPORTED_MODULE_7__.cn.stateful("fixed inset-0 z-40 bg-black/50 backdrop-blur-sm transition-opacity data-[open]:opacity-100 data-[closed]:opacity-0",className)}),Popover.__docgenInfo={description:"",methods:[{name:"Trigger",docblock:null,modifiers:["static"],params:[{name:"{ render, className, ...props }: PopoverTriggerProps",optional:!1,type:{name:"PopoverTriggerProps",alias:"PopoverTriggerProps"}}],returns:null},{name:"Content",docblock:null,modifiers:["static"],params:[{name:'{\n\tclassName = "",\n\talign = "center",\n\tside = "bottom",\n\tsideOffset = 4,\n\talignOffset = 4,\n\trender,\n\tchildren,\n\t...props\n}: PopoverContentProps',optional:!1,type:{name:"PopoverContentProps",alias:"PopoverContentProps"}}],returns:null},{name:"Backdrop",docblock:null,modifiers:["static"],params:[{name:'{\n\tclassName = "",\n\trender,\n\t...props\n}: PopoverBackdropProps',optional:!1,type:{name:"PopoverBackdropProps",alias:"PopoverBackdropProps"}}],returns:null}],displayName:"Popover"}}}]);